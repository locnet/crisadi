!function(e){"use strict";e(document).ready(function(){if(e("body").hasClass("post-type-page")||e("body").hasClass("post-type-post")||e("body").hasClass("post-type-my-product")||e("body").hasClass("post-type-gallery")||e("body").hasClass("post-type-product")||e("body").hasClass("post-type-dfd-author")){var t=function(){var t=e("#advanced-sortables .dfd-metaboxes-wrap .postbox");e(".cmb_metabox > tbody > tr",t).each(function(){var i=e(this),a=i.attr("data-dependancy-option"),r=i.attr("data-dependancy-value");if(a&&""!=a&&r&&""!=r){var o=function(){var t=e('[name="'+a+'"]').is('input[type="radio"]')?e('[name="'+a+'"]:checked').val():e('[name="'+a+'"]').val(),o=r.split(",");-1!=e.inArray(t,o)?i.show(500):(i.find('input[type="text"], select').val(""),i.find('input[type="radio"]:checked').removeAttr("checked").trigger("change"),i.hide(500))};o(),t.on("change",'[name="'+a+'"]',function(){o()})}})},i=function(){e(".repeatable-grouping").each(function(){var t=e(this),i=t.find('input[type="radio"]'),a=t.find(".cmb-nested-table > tbody > tr"),r=function(){var e=t.find('input[type="radio"]:checked').val();a.siblings('[data-dependancy-value]:not([data-dependancy-value*="'+e+'"])').hide(500),a.siblings('[data-dependancy-value*="'+e+'"]').show(500)};r(),i.on("change",function(){r()})})},a=function(){"dfd-3d-parallax"==e('[class$="_hover_appear_effect"]').find("option:selected").val()?e('[class$="_hover_main_decoration"]').find("ul > li:last-child").hide(500).find('input[type="radio"]:checked').removeAttr("checked").trigger("change"):e('[class$="_hover_main_decoration"]').find("ul > li:last-child").show(500)},r=e("#normal-sortables").children(".postbox:not(#wpb_visual_composer):not(#woocommerce-product-data):not(#wc-memberships-product-memberships-data):not(#wpseo_meta):not(#the_grid_item_formats)").clone(),o=e("#advanced-sortables");e("#normal-sortables").children(".postbox:not(#wpb_visual_composer):not(#woocommerce-product-data):not(#wc-memberships-product-memberships-data):not(#wpseo_meta):not(#the_grid_item_formats)").remove(),r.prependTo(o),o.wrapInner('<div class="dfd-metaboxes-wrap" />').prepend('<div class="dfd-metaboxes-titles" />'),e(".dfd-metaboxes-wrap .postbox",o).each(function(){var t=e(this),i=t.attr("id"),a=t.not(".acf-hidden").find(".hndle").clone().attr("class",i);t.hasClass("closed")&&t.removeClass("closed"),t.hasClass("acf-hidden")&&t.remove(),t.find(".hndle").remove(),t.find(".handlediv").remove(),a.appendTo(".dfd-metaboxes-titles",o)}),e(".dfd-metaboxes-wrap",o).find(".postbox").not(":first").hide(),t(),i(),e("body").on("cmb_add_row cmb_shift_row",function(){i()}),a(),e("body").on("change",'[class$="_hover_appear_effect"]',function(){a()}),o.on("click touchend",".dfd-metaboxes-titles > *",function(){var i=e(this),a=i.attr("class");i.addClass("active").siblings().removeClass("active"),e(".dfd-metaboxes-wrap",o).find("#"+a).show().siblings(".postbox").hide(),t()}),e(".dfd-metaboxes-titles",o).find("> *").first().click()}e('input[type="checkbox"]').each(function(){var t=e(this).siblings("label"),i=t.find(".button-animation");t.click(function(){i.toggleClass("right-active")})})})}(jQuery),window.CMB=function(e,t,i){"use strict";var a=e.cmb_l10,r=e.setTimeout,o={formfield:"",idNumber:!1,file_frames:{},repeatEls:'input:not([type="button"]),select,textarea,.cmb_media_status'};return o.metabox=function(){return o.$metabox?o.$metabox:(o.$metabox=i("table.cmb_metabox"),o.$metabox)},o.init=function(){var t=o.metabox(),n=t.find(".repeatable-group");a.new_admin_style&&t.find(".cmb-spinner img").hide(),o.initPickers(t.find("input:text.cmb_timepicker"),t.find("input:text.cmb_datepicker"),t.find("input:text.cmb_colorpicker")),i("#ui-datepicker-div").wrap('<div class="cmb_element" />'),i('<p><span class="button cmb-multicheck-toggle">'+a.check_toggle+"</span></p>").insertBefore("ul.cmb_checkbox_list"),t.on("change",".cmb_upload_file",function(){o.formfield=i(this).attr("id"),i("#"+o.formfield+"_id").val("")}).on("click",".cmb-multicheck-toggle",o.toggleCheckBoxes).on("click",".cmb_upload_button",o.handleMedia).on("click",".cmb_remove_file_button",o.handleRemoveMedia).on("click",".add-group-row",o.addGroupRow).on("click",".add-row-button",o.addAjaxRow).on("click",".remove-group-row",o.removeGroupRow).on("click",".remove-row-button",o.removeAjaxRow).on("keyup paste focusout",".cmb_oembed",o.maybeOembed).on("cmb_remove_row",".repeatable-group",o.resetTitlesAndIterator),n.length&&n.filter(".sortable").each(function(){i(this).find(".remove-group-row").before('<a class="shift-rows move-up alignleft" href="#">'+a.up_arrow+'</a> <a class="shift-rows move-down alignleft" href="#">'+a.down_arrow+"</a>")}).on("click",".shift-rows",o.shiftRows).on("cmb_add_row",o.emptyValue),r(o.resizeoEmbeds,500),i(e).on("resize",o.resizeoEmbeds)},o.resetTitlesAndIterator=function(){i(".repeatable-group").each(function(){var e=i(this);e.find(".repeatable-grouping").each(function(t){var a=i(this);a.data("iterator",t),a.find(".cmb-group-title h4").text(e.find(".add-group-row").data("grouptitle").replace("{#}",t+1))})})},o.toggleCheckBoxes=function(e){e.preventDefault();var t=i(this),a=t.parents("td").find("input[type=checkbox]");t.data("checked")?(a.prop("checked",!1),t.data("checked",!1)):(a.prop("checked",!0),t.data("checked",!0))},o.handleMedia=function(e){if(wp){e.preventDefault();var t=o.metabox(),r=i(this);o.formfield=r.prev("input").attr("id");var n=i("#"+o.formfield),d=n.attr("name"),s=!0,c=!0,l=r.hasClass("cmb_upload_list");if(o.formfield in o.file_frames)return void o.file_frames[o.formfield].open();o.file_frames[o.formfield]=wp.media.frames.file_frame=wp.media({title:t.find("label[for="+o.formfield+"]").text(),button:{text:a.upload_file},multiple:!!l});var p={list:function(e){c=e.toJSON(),n.val(c.url),i("#"+o.formfield+"_id").val(c.id);var t=[];i(c).each(function(){s=this.type&&"image"===this.type?'<li class="img_status"><img width="50" height="50" src="'+this.url+'" class="attachment-50x50" alt="'+this.filename+'"><p><a href="#" class="cmb_remove_file_button" rel="'+o.formfield+"["+this.id+']">'+a.remove_image+'</a></p><input type="hidden" id="filelist-'+this.id+'" name="'+d+"["+this.id+']" value="'+this.url+'"></li>':"<li>"+a.file+" <strong>"+this.filename+'</strong>&nbsp;&nbsp;&nbsp; (<a href="'+this.url+'" target="_blank" rel="external">'+a.download+'</a> / <a href="#" class="cmb_remove_file_button" rel="'+o.formfield+"["+this.id+']">'+a.remove_file+'</a>)<input type="hidden" id="filelist-'+this.id+'" name="'+d+"["+this.id+']" value="'+this.url+'"></li>',t.push(s)}),i(t).each(function(){n.siblings(".cmb_media_status").slideDown().append(this)})},single:function(e){c=e.first().toJSON(),n.val(c.url),i("#"+o.formfield+"_id").val(c.id),s=c.type&&"image"===c.type?'<div class="img_status"><img style="max-width: 350px; width: 100%; height: auto;" src="'+c.url+'" alt="'+c.filename+'" title="'+c.filename+'" /><p><a href="#" class="cmb_remove_file_button" rel="'+o.formfield+'">'+a.remove_image+"</a></p></div>":a.file+" <strong>"+c.filename+'</strong>&nbsp;&nbsp;&nbsp; (<a href="'+c.url+'" target="_blank" rel="external">'+a.download+'</a> / <a href="#" class="cmb_remove_file_button" rel="'+o.formfield+'">'+a.remove_file+"</a>)",n.siblings(".cmb_media_status").slideDown().html(s)}};o.file_frames[o.formfield].on("select",function(){var e=o.file_frames[o.formfield].state().get("selection");p[l?"list":"single"](e)}),o.file_frames[o.formfield].open()}},o.handleRemoveMedia=function(e){e.preventDefault();var t=i(this);if(t.is(".attach_list .cmb_remove_file_button"))return t.parents("li").remove(),!1;o.formfield=t.attr("rel");var a=t.parents(".img_status");return o.metabox().find("input#"+o.formfield).val(""),o.metabox().find("input#"+o.formfield+"_id").val(""),a.length?a.html(""):t.parents(".cmb_media_status").html(""),!1},i.fn.replaceText=function(e,t,a){return this.each(function(){var r,o,n=this.firstChild,d=[];if(n)do{3===n.nodeType&&(r=n.nodeValue,(o=r.replace(e,t))!==r&&(!a&&/</.test(o)?(i(n).before(o),d.push(n)):n.nodeValue=o))}while(n=n.nextSibling);d.length&&i(d).remove()})},i.fn.cleanRow=function(e,t){var a=i(this),r=a.find('input:not([type="button"]), select, textarea, label');return t&&a.find(".cmb-repeat-table .repeat-row:not(:first-child)").remove(),o.$focus=!1,o.neweditor_id=[],r.filter(":checked").removeAttr("checked"),r.filter(":selected").removeAttr("selected"),a.find(".cmb-group-title")&&a.find(".cmb-group-title h4").text(a.data("title").replace("{#}",o.idNumber+1)),r.each(function(){var t,a,r,n=i(this),d=n.hasClass("wp-editor-area"),s=n.attr("for"),c={};if(s)c={for:s.replace("_"+e,"_"+o.idNumber)};else{var l=n.attr("name"),p=l?l.replace("["+e+"]","["+o.idNumber+"]"):"";t=(a=n.attr("id"))?a.replace("_"+e,"_"+o.idNumber):"",r=n.is('input[type="radio"]')?n.val():"",c={id:t,name:p,"data-iterator":o.idNumber,value:r}}if(n.removeClass("hasDatepicker").attr(c),d){t=t?a.replace("zx"+e,"zx"+o.idNumber):"",n.html("");var f=n.parents(".cmb-type-wysiwyg");f.find(".mce-tinymce:not(:first-child)").remove();var m=f.html().replace(new RegExp(a,"g"),t);f.html(m),o.neweditor_id.push({id:t,old:a})}o.$focus=o.$focus?o.$focus:n}),this},i.fn.newRowHousekeeping=function(){var e=i(this),t=e.find(".wp-picker-container"),a=e.find(".cmb_media_status");return t.length&&t.each(function(){var e=i(this).parent();e.html(e.find("input:text.cmb_colorpicker").attr("style",""))}),a.length&&a.empty(),this},o.afterRowInsert=function(e){o.$focus&&o.$focus.focus();var t;if(o.neweditor_id.length){var i;for(i=o.neweditor_id.length-1;i>=0;i--){var a=o.neweditor_id[i].id,r=o.neweditor_id[i].old;if(void 0===tinyMCEPreInit.mceInit[a]){var n=jQuery.extend({},tinyMCEPreInit.mceInit[r]);for(t in n)"string"==typeof n[t]&&(n[t]=n[t].replace(new RegExp(r,"g"),a));tinyMCEPreInit.mceInit[a]=n}if(void 0===tinyMCEPreInit.qtInit[a]){var d=jQuery.extend({},tinyMCEPreInit.qtInit[r]);for(t in d)"string"==typeof d[t]&&(d[t]=d[t].replace(new RegExp(r,"g"),a));tinyMCEPreInit.qtInit[a]=d}tinyMCE.init({id:tinyMCEPreInit.mceInit[a]})}}o.initPickers(e.find("input:text.cmb_timepicker"),e.find("input:text.cmb_datepicker"),e.find("input:text.cmb_colorpicker"))},o.updateNameAttr=function(){var e=i(this),t=e.attr("name");if(void 0===t)return!1;var a=parseInt(e.parents(".repeatable-grouping").data("iterator")),r=a-1,o=t.replace("["+a+"]","["+r+"]");e.attr("name",o)},o.emptyValue=function(e,t){i('input:not([type="button"]):not([type="radio"]):not([type="checkbox"]), textarea',t).val(""),i('input[type="radio"], input[type="checkbox"]',t).removeAttr("checked")},o.addGroupRow=function(e){e.preventDefault();var t=i(this),a=i("#"+t.data("selector")),r=a.find(".repeatable-grouping").last(),n=parseInt(r.data("iterator"));o.idNumber=n+1;var d=r.clone();d.data("title",t.data("grouptitle")).newRowHousekeeping().cleanRow(n,!0);var s=i('<tr class="repeatable-grouping" data-iterator="'+o.idNumber+'">'+d.html()+"</tr>");r.after(s),o.afterRowInsert(s),a.find(".repeatable-grouping").length<=1?a.find(".remove-group-row").prop("disabled",!0):a.find(".remove-group-row").removeAttr("disabled"),a.trigger("cmb_add_row",s),i("body").trigger("cmb_add_row")},o.addAjaxRow=function(e){e.preventDefault();var t="#"+i(this).data("selector"),a=i(t),r=a.find(".empty-row"),n=parseInt(r.find("[data-iterator]").data("iterator"));o.idNumber=n+1;var d=r.clone();d.newRowHousekeeping().cleanRow(n),r.removeClass("empty-row").addClass("repeat-row"),r.after(d),o.afterRowInsert(d),a.trigger("cmb_add_row",d),i("body").trigger("cmb_add_row")},o.removeGroupRow=function(e){e.preventDefault();var t=i(this),a=i("#"+t.data("selector")),r=t.parents(".repeatable-grouping"),n=a.find(".repeatable-grouping").length;r.nextAll(".repeatable-grouping").find(o.repeatEls).each(o.updateNameAttr),n>1&&(r.remove(),3>n?a.find(".remove-group-row").prop("disabled",!0):a.find(".remove-group-row").prop("disabled",!1),a.trigger("cmb_remove_row"))},o.removeAjaxRow=function(e){e.preventDefault();var t=i(this),a=t.parents("tr"),r=t.parents(".cmb-repeat-table");r.find("tr").length>1&&(a.hasClass("empty-row")&&a.prev().addClass("empty-row").removeClass("repeat-row"),t.parents(".cmb-repeat-table tr").remove(),r.trigger("cmb_remove_row"))},o.shiftRows=function(e){e.preventDefault();var t=i(this),a=t.parents(".repeatable-grouping"),r=t.hasClass("move-up")?a.prev(".repeatable-grouping"):a.next(".repeatable-grouping");if(r.length){var n=[];a.find(o.repeatEls).each(function(){var e,t=i(this);t.hasClass("cmb_media_status")?e=t.html():"checkbox"===t.attr("type")?(e=t.is(":checked"),o.log("checked",e)):"select"===t.prop("tagName")?(e=t.is(":selected"),o.log("checked",e)):e=t.val(),n.push({val:e,$:t})}),r.find(o.repeatEls).each(function(e){var t,a=i(this);a.hasClass("cmb_media_status")?(t=a.html(),a.html(n[e].val),n[e].$.html(t)):"checkbox"===a.attr("type")?(n[e].$.prop("checked",a.is(":checked")),a.prop("checked",n[e].val)):"select"===a.prop("tagName")?(n[e].$.prop("selected",a.is(":selected")),a.prop("selected",n[e].val)):(n[e].$.val(a.val()),a.val(n[e].val))}),i("body").trigger("cmb_shift_row")}},o.initPickers=function(e,t,i){o.initTimePickers(e),o.initDatePickers(t),o.initColorPickers(i)},o.initTimePickers=function(e){e.length&&e.timePicker({startTime:"00:00",endTime:"23:59",show24Hours:!1,separator:":",step:30})},o.initDatePickers=function(e){e.length&&(e.datepicker("destroy"),e.datepicker())},o.initColorPickers=function(e){e.length&&("object"==typeof jQuery.wp&&"function"==typeof jQuery.wp.wpColorPicker?e.wpColorPicker():e.each(function(e){i(this).after('<div id="picker-'+e+'" style="z-index: 1000; background: #EEE; border: 1px solid #CCC; position: absolute; display: block;"></div>'),i("#picker-"+e).hide().farbtastic(i(this))}).focus(function(){i(this).next().show()}).blur(function(){i(this).next().hide()}))},o.maybeOembed=function(e){var t=i(this);({focusout:function(){r(function(){o.spinner(".postbox table.cmb_metabox",!0)},2e3)},keyup:function(){var i=function(t,i){return e.which<=i&&e.which>=t};(i(48,90)||i(96,111)||i(8,9)||187===e.which||190===e.which)&&o.doAjax(t,e)},paste:function(){r(function(){o.doAjax(t)},100)}})[e.type]()},o.resizeoEmbeds=function(){o.metabox().each(function(){var e=i(this),t=e.parents(".inside");if(!t.length)return!0;var a=Math.round(.82*t.width()*.97)-30;if(a>639)return!0;var r=e.find(".cmb-type-oembed .embed_status").children().not(".cmb_remove_wrapper");return!r.length||void r.each(function(){var e=i(this),t=e.width(),r=e.height(),o=a;e.parents(".repeat-row").length&&(o=a-91);var n=Math.round(o*r/t);e.width(o).height(n)})})},o.log=function(){a.script_debug&&console&&"function"==typeof console.log&&console.log.apply(console,arguments)},o.spinner=function(e,t){t?i(".cmb-spinner",e).hide():i(".cmb-spinner",e).show()},o.doAjax=function(e){var t=e.val();if(!(t.length<6)){var n=e.attr("id"),d=e.parents(".cmb-repeat-table  tr td");d=d.length?d:e.parents(".cmb_metabox tr td");var s=i(".embed_status",d),c=e.width(),l=i(":first-child",s);o.log("oembed_url",t,n),c=s.length&&l.length?l.width():e.width(),o.spinner(d),i(".embed_wrap",d).html(""),r(function(){i(".cmb_oembed:focus").val()===t&&i.ajax({type:"post",dataType:"json",url:a.ajaxurl,data:{action:"cmb_oembed_handler",oembed_url:t,oembed_width:c>300?c:300,field_id:n,object_id:e.data("objectid"),object_type:e.data("objecttype"),cmb_ajax_nonce:a.ajax_nonce},success:function(e){o.log(e),void 0!==e.id&&(o.spinner(d,!0),i(".embed_wrap",d).html(e.result))}})},500)}},i(t).ready(o.init),o}(window,document,jQuery),function(e){"use strict";e(document).ready(function(){var t=e("#dfd_headers_header_style"),i=e("#dfd_headers_logo_position"),a=e("#dfd_headers_menu_position"),r=e(".cmb_id_dfd_headers_show_side_area"),o=e(".cmb_id_dfd_headers_show_top_inner_page"),n=function(){+t.val()<7?(r.show(),o.show()):(r.hide(),o.hide()),"0"==t.val()||"1"==t.val()||"2"==t.val()?(i.parents("tr").show(),a.parents("tr").show()):(i.parents("tr").hide(),a.parents("tr").hide())};n(),t.on("change",n),e("#editor-expand-toggle").is(":checked")&&e("#editor-expand-toggle").click()})}(jQuery);